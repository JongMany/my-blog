---
title: 거래 차트 WebView 구현
summary: 기존 앱의 자체 구현 차트를 TradingView 엔진으로 완전 마이그레이션하고, HTML WebView 기반 렌더링 레이어를 설계하여 앱 차트를 개발했습니다.
order: 8.4
banner: false
publish: true
tags: [기능 추가]
date: 2025-01-15
cover: /projects/thumbnails/images/webview.png
coverAlt: "TradingView WebView 렌더링 시스템 아키텍처"
coverCaption: "앱 내 HTML WebView 기반 TradingView 차트 렌더링"
coverType: image
coverAspectRatio: 16:9
---

## 개요

기존 앱의 자체 구현 차트를 **TradingView 엔진으로 완전 마이그레이션**하고, **HTML WebView 기반 렌더링 레이어**를 설계하여 앱 차트를 개발했습니다.

## 배경

- **기존 차트 엔진의 한계**: 자체 구현 차트의 성능 및 기능적 제약
- **사용자 경험 일관성 부족**: 플랫폼별로 다른 차트 인터페이스와 기능
- **임베딩 방식**: 앱 내 HTML(WebView) 렌더링 레이어를 설계해 Vanilla JS로 초기 통합

## 목표

1. **차트 엔진 통합**: TradingView를 기반으로 앱·웹 차트 일원화
2. **사용자 경험 개선**: 플랫폼 간 일관된 차트 기능 제공

## 내 역할

- HTML 기반 차트 렌더링 시스템 유지보수
- JavaScript Bridge를 통한 앱-웹뷰 양방향 통신 구현

## 해결과정

- WebView 기반 렌더링 시스템 구축
  - HTML을 통해 TradingView를 앱 내에서 실행할 수 있는 Webview 환경 구축
  - 동적 파라미터 처리: URL 쿼리 파라미터로 테마, 심볼 등을 동적으로 설정
- 앱 차트(웹뷰) 통신 브릿지 구현
  - iOS(WKWebView)와 Android(WebView) 플랫폼별 네이티브 통신 인터페이스(Bridge) 구현

## 주요 기능

### 1. WebView 기반 렌더링

- **HTML 컨테이너**: TradingView를 앱 내에서 실행할 수 있는 WebView 환경
- **동적 파라미터**: URL 쿼리 파라미터로 테마, 심볼, 인터벌 등 동적 설정

### 2. 양방향 통신 브릿지

- **iOS WKWebView**: WKScriptMessageHandler를 통한 메시지 처리
- **Android WebView**: JavaScriptInterface를 통한 네이티브 통신
- **이벤트 기반**: 차트 이벤트를 실시간으로 네이티브 앱에 전달

### 3. 에러 처리 및 복구

- **로딩 상태**: 차트 로딩 중 사용자 피드백
- **에러 핸들링**: 차트 오류 시 적절한 에러 메시지 표시
- **자동 복구**: 네트워크 오류 시 자동 재연결 시도

## 결과

- **차트 엔진 통합**: 앱과 웹의 차트 기능 일원화
- **사용자 경험 일관성**: 플랫폼 간 동일한 차트 인터페이스 제공

## 개선할 점

- 앱/웹 차트의 코드베이스 일원화를 위해 React 기반 WebView 구조로 마이그레이션을 설계/진행하고 있습니다.
